@import "tailwindcss";

/* Custom Design System for Local Cooks - Awwwards-worthy */
@theme {
  /* Color Palette - Vibrant, warm, and inviting */
  --color-primary: #f51042;
  --color-primary-dark: #d10d38;
  --color-primary-light: #ff4d6d;
  --color-cream: #FFF9F5;
  --color-cream-dark: #FFF0E8;
  --color-butter: #FFEDD5;
  --color-charcoal: #1A1A1A;
  --color-charcoal-light: #333333;
  --color-warm-white: #FFFCFA;
  --color-sage: #7CB69D;
  --color-gold: #E5A84B;
  --color-coral: #FF8A7A;
  
  /* Typography */
  --font-display: 'Lobster', cursive;
  --font-heading: 'DM Serif Display', Georgia, serif;
  --font-body: 'Instrument Sans', system-ui, sans-serif;
  --font-mono: 'Space Mono', monospace;
  
  /* Custom animations */
  --animate-marquee: marquee 25s linear infinite;
  --animate-marquee-reverse: marquee-reverse 25s linear infinite;
  --animate-float: float 6s ease-in-out infinite;
  --animate-pulse-soft: pulse-soft 3s ease-in-out infinite;
  --animate-shimmer: shimmer 2s linear infinite;
  --animate-bounce-soft: bounce-soft 2s ease-in-out infinite;
  --animate-wiggle: wiggle 0.5s ease-in-out;
  --animate-spin-slow: spin-slow 20s linear infinite;
  
  @keyframes marquee {
    0% { transform: translateX(0%); }
    100% { transform: translateX(-50%); }
  }
  
  @keyframes marquee-reverse {
    0% { transform: translateX(-50%); }
    100% { transform: translateX(0%); }
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(3deg); }
  }
  
  @keyframes pulse-soft {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.02); }
  }
  
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
  
  @keyframes bounce-soft {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  
  @keyframes wiggle {
    0%, 100% { transform: rotate(-3deg); }
    50% { transform: rotate(3deg); }
  }
  
  @keyframes spin-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  
  @keyframes typewriter-cursor {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
}

/* Base styles */
html {
  scroll-behavior: smooth;
}

/* Lenis smooth scroll integration - like Pretty Patty */
html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

/* Mobile touch optimization - ensure smooth scrolling */
html.lenis,
html.lenis body {
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
}

/* Prevent pull-to-refresh on mobile while allowing smooth scroll */
@media (max-width: 768px) {
  html.lenis {
    overscroll-behavior-y: contain;
  }
}

body {
  font-family: var(--font-body);
  background-color: var(--color-cream);
  color: var(--color-charcoal);
  overflow-x: hidden;
  /* Prevent horizontal scrolling at the root level */
  max-width: 100vw;
  width: 100%;
  position: relative;
}

/* Global overflow control - prevent elements from causing horizontal scroll */
html {
  overflow-x: hidden;
  max-width: 100%;
  width: 100%;
}

/* Apply to both html and body together for mobile */
html, body {
  overflow-x: hidden;
  overscroll-behavior-x: none;
}

/* Ensure all sections are properly contained */
section {
  max-width: 100vw;
  overflow-x: clip;
  position: relative;
  box-sizing: border-box;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  /* Ensure proper horizontal padding on mobile */
  .max-w-7xl,
  .max-w-\[1400px\],
  .max-w-5xl,
  .max-w-4xl,
  .max-w-2xl {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
  
  /* Prevent decorative elements from overflowing on mobile */
  /* Note: .hero-food-parallax is NOT hidden - we want food items visible in Hero on mobile */
  .parallax-food {
    display: none !important;
  }
}

/* Ensure proper containment for all major layout elements */
.max-w-7xl,
.max-w-\[1400px\],
.max-w-5xl,
.max-w-4xl,
.max-w-2xl {
  box-sizing: border-box;
}

/* Prevent absolute positioned decorative elements from causing overflow */
.parallax-bg,
.parallax-food,
.hero-orb,
.hero-food-parallax {
  max-width: 100vw;
  overflow: visible;
}

/* Safe container for all content - prevents bleed on all screen sizes */
/* Note: Padding is applied via Tailwind classes px-4 sm:px-6, not here */
/* This ensures containers respect the viewport boundaries */
.container-safe {
  width: 100%;
  max-width: 100vw;
  padding-left: max(0.75rem, env(safe-area-inset-left));
  padding-right: max(0.75rem, env(safe-area-inset-right));
  box-sizing: border-box;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--color-cream-dark);
}

::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary-dark);
}

/* Selection styles */
::selection {
  background-color: var(--color-primary);
  color: white;
}

/* Custom utility classes */
@utility font-display {
  font-family: var(--font-display);
}

@utility font-heading {
  font-family: var(--font-heading);
}

@utility font-body {
  font-family: var(--font-body);
}

@utility font-mono {
  font-family: var(--font-mono);
}

@utility text-balance {
  text-wrap: balance;
}

/* Marquee container styles */
.marquee-container {
  overflow: hidden;
  white-space: nowrap;
}

.marquee-content {
  display: inline-flex;
  animation: marquee 25s linear infinite;
}

.marquee-content-reverse {
  display: inline-flex;
  animation: marquee-reverse 25s linear infinite;
}

/* Gradient text with primary color */
.gradient-text {
  background: linear-gradient(135deg, var(--color-primary), var(--color-coral));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-warm {
  background: linear-gradient(135deg, var(--color-gold), var(--color-primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Glass effect */
.glass {
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.4);
}

/* Navbar glass effect - cream tinted for brand consistency */
.glass-nav {
  background: rgba(255, 249, 245, 0.85);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
  transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
              backdrop-filter 0.5s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Stronger glass for elevated UI */
.glass-elevated {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 20px 50px -15px rgba(0, 0, 0, 0.12);
}

/* Button hover effects */
.btn-primary {
  position: relative;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-primary::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.6s ease;
}

.btn-primary:hover::before {
  left: 100%;
}

/* Card hover effects */
.card-hover {
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-hover:hover {
  transform: translateY(-12px) scale(1.02);
  box-shadow: 0 30px 60px -15px rgba(245, 16, 66, 0.15);
}

/* Magnetic button effect */
.magnetic-btn {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Reveal animation classes (controlled by GSAP) */
.reveal-up {
  opacity: 0;
  transform: translateY(80px);
}

.reveal-down {
  opacity: 0;
  transform: translateY(-80px);
}

.reveal-left {
  opacity: 0;
  transform: translateX(-80px);
}

.reveal-right {
  opacity: 0;
  transform: translateX(80px);
}

.reveal-scale {
  opacity: 0;
  transform: scale(0.8);
}

.reveal-rotate {
  opacity: 0;
  transform: rotate(-10deg) scale(0.9);
}

/* Typewriter cursor */
.typewriter-cursor {
  display: inline-block;
  width: 3px;
  height: 1em;
  background-color: var(--color-primary);
  margin-left: 4px;
  animation: typewriter-cursor 0.8s ease-in-out infinite;
  vertical-align: middle;
}

/* Stagger animation delays for CSS animations */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }
.stagger-5 { animation-delay: 0.5s; }
.stagger-6 { animation-delay: 0.6s; }

/* Smooth section transitions */
.section-transition {
  position: relative;
}

.section-transition::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 4px;
  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
  border-radius: 2px;
}

/* Floating decoration animations */
.float-element {
  animation: float 6s ease-in-out infinite;
}

.float-element-delayed {
  animation: float 6s ease-in-out infinite;
  animation-delay: 2s;
}

/* Glow effects */
.glow-primary {
  box-shadow: 0 0 40px rgba(245, 16, 66, 0.3);
}

.glow-primary-subtle {
  box-shadow: 0 0 60px rgba(245, 16, 66, 0.15);
}

/* Text shadow for depth */
.text-shadow-soft {
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

/* Smooth image reveal */
.img-reveal {
  clip-path: inset(100% 0 0 0);
  transition: clip-path 1s cubic-bezier(0.4, 0, 0.2, 1);
}

.img-reveal.revealed {
  clip-path: inset(0 0 0 0);
}

/* Noise texture overlay */
.grain {
  position: relative;
}

.grain::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.025;
  pointer-events: none;
  z-index: 1;
}

/* Smooth page loader */
.page-loader {
  position: fixed;
  inset: 0;
  background: var(--color-cream);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.loader-logo {
  font-family: var(--font-display);
  font-size: 3rem;
  color: var(--color-primary);
}

/* Custom cursor styles - Premium Edition v3
   Features:
   - Native cursor remains visible (layered effect)
   - Outer ring with smart color detection
   - Inner dot with brand/white colors
   - Blend-mode layer for guaranteed visibility
   - Multi-point sampling for edge detection
   - Smooth spring-like animations
   Inspired by neoleaf.bytetown.agency */

/* Smooth transitions for interactive elements */
a, button, .card-hover, .btn-primary {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Ensure cursor elements have isolated stacking context */
.cursor-container {
  isolation: isolate;
}

/* Mark wave divider zones for cursor detection */
.wave-divider {
  /* Already has styles in WaveDivider.css */
  /* cursor detection uses this class name */
}

/* Section divider */
.section-divider {
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
  margin: 0 auto;
  max-width: 200px;
}

/* Smooth reveal animations */
.reveal-on-scroll {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.reveal-on-scroll.revealed {
  opacity: 1;
  transform: translateY(0);
}

/* Interactive element hover states */
.interactive-hover {
  position: relative;
  overflow: hidden;
}

.interactive-hover::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, var(--color-primary)/5, transparent);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.interactive-hover:hover::after {
  opacity: 1;
}

/* Cohesive box shadows */
.shadow-brand {
  box-shadow: 0 10px 40px -10px rgba(245, 16, 66, 0.15);
}

.shadow-brand-lg {
  box-shadow: 0 25px 60px -15px rgba(245, 16, 66, 0.2);
}

/* Subtle border glow on focus */
input:focus, textarea:focus, button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(245, 16, 66, 0.2);
}

/* Smooth color transitions - targeted to interactive elements only
   DO NOT use * selector here â€” it fights GSAP animations and causes scroll jank */
a, button, input, textarea, select,
.card-hover, .btn-primary, .glass, .glass-nav, .glass-elevated {
  transition-property: color, background-color, border-color, box-shadow, backdrop-filter, -webkit-backdrop-filter;
  transition-duration: 0.2s;
  transition-timing-function: ease;
}

/* GPU acceleration hints for animated elements */
.will-change-transform {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.will-change-opacity {
  will-change: opacity;
}

/* Smooth scroll anchors - respect Lenis */
[data-smooth-scroll] {
  scroll-behavior: auto;
}

/* Link underline animation */
.link-underline {
  position: relative;
}

.link-underline::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--color-primary);
  transition: width 0.3s ease;
}

.link-underline:hover::after {
  width: 100%;
}

/* Clover Button Styles - Inspired by les-arbres-fruitiers.fr */
.clover-btn {
  position: relative;
  cursor: pointer;
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.clover-btn:hover {
  border-color: var(--color-primary);
  box-shadow: 0 8px 30px -10px rgba(245, 16, 66, 0.3);
}

/* Outlined Text Effect - Like les-arbres-fruitiers.fr footer */
.text-outline {
  -webkit-text-stroke: 2px var(--color-primary);
  -webkit-text-fill-color: transparent;
  color: transparent;
  transition: all 0.5s ease;
}

.text-outline:hover {
  -webkit-text-fill-color: var(--color-primary);
}

/* Contact Us Footer Link - Outlined text with hover fill (like les-arbres-fruitiers) */
.footer-contact-text {
  -webkit-text-stroke: 2px var(--color-primary);
  -webkit-text-fill-color: transparent;
  color: transparent;
  transition: -webkit-text-fill-color 0.4s ease;
}

.footer-contact-link:hover .footer-contact-text {
  -webkit-text-fill-color: var(--color-primary);
}

/* Legacy support */
.contact-outline-text {
  -webkit-text-stroke: 2px var(--color-primary);
  -webkit-text-fill-color: transparent;
  color: transparent;
  transition: -webkit-text-fill-color 0.5s ease;
}

.contact-text-link:hover .contact-outline-text {
  -webkit-text-fill-color: var(--color-primary);
}

/* Contact form underline input styles */
.contact-input {
  background: transparent;
  border: none;
  border-bottom: 2px solid rgba(26, 26, 26, 0.2);
  outline: none;
  padding: 0.5rem 0.25rem;
  font-family: var(--font-body);
  color: var(--color-charcoal);
  transition: border-color 0.3s ease;
}

.contact-input:focus {
  border-color: var(--color-primary);
}

.contact-input::placeholder {
  color: rgba(26, 26, 26, 0.3);
}

/* ========================================
   MOBILE STACKED CARDS - Aurora-inspired
   Only applies below sm breakpoint (640px)
   ======================================== */
@media (max-width: 639px) {
  /* Mobile stacked card styles */
  .mobile-stack-card {
    /* Card base styling */
    transform-origin: center top;
    will-change: transform, opacity;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }
  
  /* Subtle shadow enhancement on interaction */
  .mobile-stack-card:active {
    transform: scale(0.98);
    transition: transform 0.15s ease;
  }
  
  /* Smooth scroll reveal effect - complement to motion animation */
  .mobile-stack-card {
    /* Glass morphism subtle effect */
    backdrop-filter: blur(0px);
    transition: backdrop-filter 0.3s ease, box-shadow 0.3s ease;
  }
  
  /* Card in view - enhanced presence */
  .mobile-stack-card[data-in-view="true"] {
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06),
      0 20px 40px -10px rgba(245, 16, 66, 0.08);
  }
  
  /* Mobile card container spacing */
  #chefs .flex.flex-col.gap-4 {
    padding-bottom: 1rem;
  }
  
  /* Ensure cards don't cause horizontal overflow */
  .mobile-stack-card {
    max-width: 100%;
    overflow: hidden;
  }
}
